\documentclass[letterpaper]{article}

%% Language and font encodings
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{float}
\usepackage{tikz}
\usepackage{listings}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usetikzlibrary{shapes,arrows}
\usepackage[english]{babel}
\usepackage{pifont}

% include references
% \usepackage{biblatex}
% \addbibresource{references.bib}

%% Sets page size and margins
\usepackage[letterpaper,top=3cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry}

%% Useful packages
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}
\usepackage{appendix}

\usepackage{float}
\let\openbox\relax
\usepackage{amsthm}
\usepackage{bbm}
% \usepackage[hidelinks]{hyperref}
\usepackage{xcolor,graphicx}
\usepackage{imakeidx}
\usepackage{mathtools}
\usepackage{listings}
\mathtoolsset{showonlyrefs=true}
%\mathtoolsset{showmanualtags=true}
%\mathtoolsset{showonlyrefs=true, showmanualtags=true}
\makeindex[columns=2,title=Index]


\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=mystyle}

%\newtheorem{theorem}{Theorem}[section]
\newtheorem{theorem}{Theorem}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{remark}[theorem]{Remark}
%\newtheorem{assumption}[theorem]{Assumption}
%\newtheorem{problem}[theorem]{Problem}
%\newtheorem{assumption}[theorem]{Assumption}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{trule}[theorem]{Rule}
\newtheorem{rec}[theorem]{Recommendation}

% Example environment.
\newtheoremstyle{eg}{\topsep}{\topsep}
% Body font
{}
% Indent amount (empty = no indent, \parindent = para indent)
{}
% Thm head font
{\bfseries}
% Punctuation after thm head
{}
% Space after thm head (\newline = linebreak)
{\newline}
% Thm head spec
{\thmname{#1}\thmnumber{ #2}\thmnote{ {\normalfont (#3).}}}

\theoremstyle{eg}
\newtheorem{eg}[theorem]{Example}
\newenvironment{example}{\begin{eg}}{\hfill$\diamond$\end{eg}}

% \setlength{\textwidth}{18cm}
% \setlength{\hoffset}{-3cm}
% \setlength{\voffset}{-3cm}
% prevent issues with the appearance of inserted todonotes
\setlength{\marginparwidth}{2cm}
